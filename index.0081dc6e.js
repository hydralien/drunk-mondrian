let drawTimeOut=null,paintTimeOut=null,nextDrawingStep=()=>{},nextPaintingStep=()=>{},delay=30;const border=70,defaultStep=1,velocityJump=20;function drawNextEventual(t,a,e,n,i,o,l){Math.abs(n)>=Math.abs(o)&&(o=20*Math.random()*(Math.random()>.5?1:-1)),Math.abs(i)>=Math.abs(l)&&(l=20*Math.random()*(Math.random()>.5?1:-1));const r=.1;let d=1,h=1;a<70&&(o=Math.abs(o),d+=(70-a)*r),a>t.canvas.width-70&&(o=0-Math.abs(o),d+=(a-(t.canvas.width-70))*r),e<70&&(l=Math.abs(l),h+=(70-e)*r),e>t.canvas.height-70&&(l=0-Math.abs(l),h+=(e-(t.canvas.height-70))*r),n=n<o?n+d:n-d,i=i<l?i+h:i-h;const c=Math.floor(a+n),s=Math.floor(e+i);if(c!==a||s!==e){const[a,e,n,i]=t.getImageData(c,s,1,1).data}t.beginPath(),t.moveTo(a,e),t.lineTo(c,s),t.stroke(),nextDrawingStep=()=>drawNextEventual(t,c,s,n,i,o,l),drawTimeOut=setTimeout(nextDrawingStep,delay)}function drawNext(t,a,e,n,i){const o=Math.floor(a+100*n),l=Math.floor(e+100*i);t.beginPath(),t.moveTo(a,e),t.lineTo(o,l),t.stroke(),Math.random()<.1&&(n=Math.random()/10*(Math.random()>.5?1:-1)),Math.random()<.1&&(i=Math.random()/10*(Math.random()>.5?1:-1));let r=n,d=i;o<70&&(r=Math.abs(n)),o>t.canvas.width-70&&(r=0-Math.abs(n)),l<70&&(d=Math.abs(i)),l>t.canvas.height-70&&(d=0-Math.abs(i)),drawTimeOut=setTimeout((()=>drawNext(t,o,l,r,d)),delay)}function drawing(t){t.fillStyle="#FF0000",t.lineWidth=3,t.strokeStyle="#000000";const a=Math.floor(Math.random()*t.canvas.width),e=Math.floor(Math.random()*t.canvas.height);nextDrawingStep=()=>drawNextEventual(t,a,e,1,1,1,1),nextPaintingStep=()=>spreadPaint(t,1),toggleDraw()}function toggleDraw(){const t=document.getElementById("draw-toggle");null!==drawTimeOut?(clearTimeout(drawTimeOut),drawTimeOut=null,t.innerText="Start drawing"):(drawTimeOut=setTimeout(nextDrawingStep,delay),t.innerText="Stop drawing")}function togglePaint(){const t=document.getElementById("paint-toggle");null!==paintTimeOut?(clearTimeout(paintTimeOut),paintTimeOut=null,t.innerText="Start painting"):(paintTimeOut=setTimeout(nextPaintingStep,delay),t.innerText="Stop painting")}function changeDelay(t){const a=document.getElementById("delay-selector");delay=a.value}function spreadPaint(t,a){if(a||(a=10),!t){const a=document.getElementById("drawing-canvas");t=a.getContext("2d")}const e=t.canvas.height,n=t.canvas.width,i=[[255,0,0,255],[0,255,0,255],[0,0,255,255],[255,255,0,255],[0,0,0,255]];for(let o=1;o<=a;o+=1){const l=Math.floor(Math.random()*n),r=Math.floor(Math.random()*e);let d=i[o%i.length];a<i.length&&(d=i[Math.floor(Math.random()*i.length)]),bucketFill(t,l,r,d)}nextPaintingStep=()=>spreadPaint(t,a),paintTimeOut=setTimeout(nextPaintingStep,delay)}function bucketFill(t,a,e,n){const i=t.canvas.clientHeight,o=t.canvas.clientWidth,l=Math.floor(o/10*(i/10));if(0!==t.getImageData(a,e,1,1).data[3])return;const r=(t,a)=>`${t}:${a}`,d={},h=[[a,e]];d[r(a,e)]=[a,e];let c=0;for(;h.length>0&&c<l;){const[a,e]=h.shift();for(let n=a-1;n<=a+1;n+=1)if(!(n<0||n>o))for(let a=e-1;a<=e+1;a+=1){if(a<0||a>i)continue;const e=r(n,a);if(d[e])continue;if(0!==t.getImageData(n,a,1,1).data[3])continue;const o=[n,a];d[e]=o,h.push(o),c+=1}}if(!(c>=l))for(const[a,e]of Object.values(d)){const i=new ImageData(new Uint8ClampedArray(n),1,1);t.putImageData(i,a,e)}}function init(){const t=document.getElementById("canvas-container"),a=t.clientWidth||1e3,e=t.clientHeight||800,n=document.createElement("canvas");n.id="drawing-canvas",n.width=a,n.height=e,t.appendChild(n),drawing(n.getContext("2d"))}init();
//# sourceMappingURL=index.0081dc6e.js.map
